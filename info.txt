Signum: ZNSHACA   znshaca

Employee ID:319485


http://loreto.lhs-systems.com:7777/pls/netapex/f?p=105:1:1459428601720320:START_DB:NO::P1_DB_NAME:c2basixi   -- db lookup (d2cbir17)
http://cpipub.epk.ericsson.se/_php/index.php?sid=8    -- cpi documentation
http://jenkins.lhs-systems.com:8080/jenkins/view/cht1/job/cht1-java-build/ --- to build your feature branch
http://jenkins-ait.lhs-systems.com/   -- docker env
https://gerrit.ericsson.se/#/dashboard/self   -- gerrit 
http://roskilde.lhs-systems.com:8000/#/c/23954/3/lhsj_main/bscs/umi/suf/remote/bscsix_bin/prepostinstall/maiden/postinstall/7_SecureTomcat.sh
https://mhweb.ericsson.se/mhweb/faces/dashboard/MHWeb.xhtml  --MHweb  (zarudei,Infy2GL@7) Infy2GL@8
https://metro2.sabcc.ericsson.se/tts/login.cgi --TTS



ssh-keygen -t rsa -b 4096 -C znshaca@gerrit.ericsson.se

ssh-keygen -t rsa -b 4096 -C santosh.kumarachary@globallogic.com

Vi .ssh/id_rsa.pub



https://gerrit.ericsson.se/login  


git clone ssh://znshaca@gerrit.ericsson.se:29418/bscs/core

git clone ssh://zarudei@gerrit.ericsson.se:29418/bscs/core -b spec/master R17

git clone ssh://zarudei@gerrit.ericsson.se:29418/bscs/core -b ep/17.25.18-shu-x

git clone ssh://zhshaca@gerrit.ericsson.se:29418/bscs/core -b ep/17.25.18-shu-x

git checkout -b ep/17.25.18-shu-x

ep/17.25.18-shu-x 


move to bscs directory and run beow commands
--------------------------------------------

./gradlew clean
./gradlew build -x test
./gradlew cleanEclipse eclipse

./gradlew :as cleanEclipse :as eclipse

./gradlew :cps cleanEclipse :cps eclipse
shared drive
------------
\\ibmnas02\India-Team

C:\Perl\bin;
C:\Program Files (x86)\IBM\RationalSDLC\Clearquest\cqcli\bin;
%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;
C:\Windows\SysWOW64\Empirum;C:\Program Files (x86)\IBM\RationalSDLC\ClearCase\bin;
C:\Program Files (x86)\IBM\RationalSDLC\common;
C:\Program Files\Citrix\System32\;
C:\Program Files\Citrix\Virtual Desktop Agent\;%systemroot%\System32\WindowsPowerShell\v1.0\;%
systemroot%\System32\WindowsPowerShell\v1.0\;
C:\Program Files\Citrix\ICAService\;C:\Program Files (x86)\IBM\RationalSDLC\Clearquest\cqcli\bin;
C:\Program Files (x86)\IBM\RationalSDLC\ClearCase\bin











JAVA_HOME,JRE_HOME
------------------
C:\Program Files\Java\jdk1.8.0_66;

C:\Program Files\Java\jdk1.8.0_181;

C:\Program Files\Java\jdk1.8.0_181;


CLASSPATH
---------
C:\Program Files (x86)\IBM\RationalSDLC\ClearQuest\cqjni.jar

Path
----
%JAVA_HOME%\bin;
%PYTHON_HOME%;
%PYTHON_HOME%\Scripts;
C:\Perl\bin;C:\Program Files (x86)\IBM\RationalSDLC\Clearquest\cqcli\bin;
%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;
C:\Windows\SysWOW64\Empirum;C:\Program Files (x86)\IBM\RationalSDLC\ClearCase\bin;
C:\Program Files (x86)\IBM\RationalSDLC\common;
C:\Program Files\Citrix\System32\;
C:\Program Files\Citrix\Virtual Desktop Agent\;
%systemroot%\System32\WindowsPowerShell\v1.0\;%systemroot%\System32\WindowsPowerShell\v1.0\;
C:\Program Files\Citrix\ICAService\;C:\Program Files\Git\cmd;C:\instantclient_12_1;


Database name, server, port: bscsdb, richmond.lhs-systems.com, 38616


<mapEntry key="SOISRV_DATABASE_NAME" value="bscsdb"/>
<mapEntry key="SOISRV_DATABASE_PORT" value="38616"/>
<mapEntry key="SOISRV_DATABASE_SERVER" value="richmond.lhs-systems.com"/>
<mapEntry key="SOISRV_HOST" value="localhost"/>
<mapEntry key="SOISRV_PORT" value="2010"/>
<mapEntry key="SVAPPLINDEX" value="1"/>



	Project SetUp
	-------------
1.	Install attached 64bit kdiff3 (KDiff3-64bit-Setup_0.9.98-2 ) or the latest version (64bit if your client supports 64 bit)

2.	Install attached git (Git-2.11.1-64-bit) or the latest version    <Git-2.10.0-64-bit>

3.	After installation, just start the git bash shell (Start -> All Programs -> GIT -> git bash).

4.	Sign in with your lhsfra-account credentials (Use Mozilla Firefox https://gerrit.ericsson.se/login use signum and password to login)
    Do not open this link in VM (Use your local Firefox to open it)
    To reach that, press the "Sign In" in the upper right corner of the web page and supply there the signum username and password.


5.	Generate ssh key in your VM.

    Open git bash.

   ssh-keygen -t rsa -b 4096 -C <singnm_id>@gerrit.ericsson.se
   Key will be generated.
   
   or
   
   if you are facing any issue with the above key generated you can try this
   
   ssh-keygen -t rsa -b 4096 -C santosh.kumarachary@globallogic.com
   Key will be generated.
   
   3 files got generated after running the commands in below path
   id_rsa
   id_rsa
   
   C:\Users\acharysk\.ssh
   
   
   open the pub id_rsa file and copy the content
   
6. In https://gerrit.ericsson.se/login  go to settings. Click SSH Public Keys .  Paste the copied key in text field and click Add button. 
   Key will be added
   
7.	Restart the git bash shell. Check java version. If the java version is below 8, set it to java 8. Copy 1.8.0_66 from S:\Java\JDK (x64) and 
    place it in your program files/java and update environmental variables.
	
	<if facing any issues download java 8 version and install in the VM and update the environment varibale as below>
	JAVA_HOME
    ---------
   C:\Program Files\Java\jdk1.8.0_181;

    Path
    ----
   %JAVA_HOME%\bin;
   %PYTHON_HOME%;
   %PYTHON_HOME%\Scripts;
   C:\Perl\bin;C:\Program Files (x86)\IBM\RationalSDLC\Clearquest\cqcli\bin;
   %SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;
   C:\Windows\SysWOW64\Empirum;C:\Program Files (x86)\IBM\RationalSDLC\ClearCase\bin;
   C:\Program Files (x86)\IBM\RationalSDLC\common;
   C:\Program Files\Citrix\System32\;
   C:\Program Files\Citrix\Virtual Desktop Agent\;
   %systemroot%\System32\WindowsPowerShell\v1.0\;%systemroot%\System32\WindowsPowerShell\v1.0\;
   C:\Program Files\Citrix\ICAService\;C:\Program Files\Git\cmd;C:\instantclient_12_1;

8. Re-start git bash shell and check java –version (java 8).

9. create a directory for cloning project,move to the directory and run the below command <C:\Data\code>

   git clone ssh://znshaca@gerrit.ericsson.se:29418/bscs/core


10. move to bscs directory and run beow commands
    --------------------------------------------

   ./gradlew clean
   ./gradlew build -x test
  ./gradlew cleanEclipse eclipse

11. Eclipse setup
    -------------
	
	open Eclipse File->Import->Gradle project
	
	Browse for code you stored in local and move to the bscs dorectory and select it <C:\Data\code\core\lhsj_main\bscs>
	
	click Build model
	
	finish
	
	For running the project
	-----------------------
1.	start naming service
	
2.	configure the fedfactory as below
	
	open the J_FedFactory.launch file and copy the below code in <mapAttribute></mapAttribute> attribute
	
	<mapEntry key="SOISRV_DATABASE_NAME" value="d2cbir17"/>
	<mapEntry key="SOISRV_DATABASE_PORT" value="1926"/>
	<mapEntry key="SOISRV_DATABASE_SERVER" value="lena.lhs-systems.com"/>
	<mapEntry key="SOISRV_HOST" value="localhost"/>
	<mapEntry key="SOISRV_PORT" value="2010"/>
	<mapEntry key="SVAPPLINDEX" value="1"/>
	
	
	
	start fed factory<Run->Run configuration->run>
	
3.	open the All Servers.launch file and copy the below code in <mapAttribute></mapAttribute> attribute
	
	
	
	<mapEntry key="SOISRV_DATABASE_NAME" value="bscsdb"/>
	<mapEntry key="SOISRV_DATABASE_PORT" value="38616"/>
	<mapEntry key="SOISRV_DATABASE_SERVER" value="richmond.lhs-systems.com"/>
	<mapEntry key="SOISRV_HOST" value="localhost"/>
	<mapEntry key="SOISRV_PORT" value="2010"/>
	<mapEntry key="SVAPPLINDEX" value="1"/>
	
	Start All Servers for starting all servers<Run->Run configuration->run>
	
4.  Add billsrv path on top of All servers run configuration by removing existing billsrv path

	Run Configuration-->select All servers->select Advanced->Add External Folder->got to this path (C:\Data\code\core\lhsj_main\bscs\batch\src\billsrv\resource) and select billsrv

4.	Open J_CX.launch file and copy the below code in <mapAttribute></mapAttribute> attribute
	

	<mapEntry key="SOISRV_DATABASE_NAME" value="bscsdb"/>
	<mapEntry key="SOISRV_DATABASE_PORT" value="38616"/>
	<mapEntry key="SOISRV_DATABASE_SERVER" value="richmond.lhs-systems.com"/>
	<mapEntry key="SOISRV_HOST" value="localhost"/>
	<mapEntry key="SOISRV_PORT" value="2010"/>
	<mapEntry key="SVAPPLINDEX" value="1"/>


	Start CX client for running only CX client





Steps to reproduce
====================

Create customer in backdated date
create contract in backdated date with external resource
Assign storage medium in backdated date
CDValid_From in contr_Devices should be in backdated date

Actual result
==============
When Assigning storage medium number for external resource in backdated date entry in contr_devices is in sysdate and not backdated

Expected result
================
System should should put entry in contr_Devices CDVALID_FROM in backdated date when user is assigning resource in a backdated date 


  
55569 5550000999

0099 
 
 
DN format 55569 5550000999 
port 0099
 

55569 5550001002 



R2 code setup
-------------

element * CHECKEDOUT
element * R_I_BSCSIX_R2_NBR13
element -dir * /main/LATEST
load \bsst_prepaid\Prepaid\cms\Dev\Server
load \bsst_pde\bscs\src
load \bsst_main\bscs\batch\src\func
load \bsst_main\bscs\bin
load \bsst_main\bscs\win32\c_src\func_frmwk
load \bsst_main\bscs\sms
load \bsst_main\bscs\batch\src\billsrv\resource
load \bsst_cms\bscs\src\clt\cx
load \bsst_cms\bscs\src\clt\sx
load \bsst_cms\bscs\src\cms
load \bsst_cms\bscs\src\cms_sx
load \bsst_cms\bscs\src\jcil
load \bsst_cms\bscs\src\scheduler
load \bsst_cms\bscs\src\tools
load \bsst_cms\bscs\src\web-srv
load \bsst_main\bscs\batch\src\common_adaptor
load \bsst_main\bscs\batch\src\wma
load \bsst_main\bscs\batch\src\wms
load \bsst_main\bscs\batch\src\wmx
load \bsst_main\bscs\cms\src\oms
load \bsst_main\bscs\cms\src\oab
load \bsst_main\bscs\cms\src\wab



databaseName=d1nbrtst

#
# number of the port where the database server listens for requests.
# Required when driverType=thin
# Ignored when driverType=oci
#
portNumber=1829

#
# name of the database server.
# Required when driverType=thin
# Ignored when driverType=oci
#
serverName=laval



TR:  HX16087 
============
Steps to reproduce

1: check if the license is activated for localization

License Activated for spanish in admx : LHS_BSCS_LOC_ES_PC14741
License Activated for French in admx : LHS_BSCS_LOC_FR_PC20566

2. Create the user for local language : U_LOC_ES (created for spanish)
3. Browser Language is set to spanish
4. The localization value under /$CATALINA_HOME/webapps/client/WEB-INF/classes/Registry/client_Intergration.xml/ is set to Browser
5. Logged into the Web application using U_LOC_ES user and found all tabs are displayed in english expect HELP but not spanish

Same issue is observed if localization value is set to server in this path "/$CATALINA_HOME/webapps/client/WEB-INF/classes/Registry/client_Intergration.xml/". Windows Language set to spanish in control panel--->Region and Language ---> Select Spanish in tabs format and location spain -->apply -->Ok.

6. ERRORMSG table is updated with local language for its respective error codes.

GLB00024 4 ¿Está seguro de que desea salir de la aplicación? Permite salir de la aplicación 0




 


IMSI_REPLACEMENT_CONFIG

REPLACEMENT_ID
IMSI_PATTERN
REC_VERSION
ENTRY_DATE

replacement_id
imsi_pattern
rec_version
entry_date


Configuration table: IMSI_REPLACEMENT_RP_TYPE


REPLACEMENT_ID
RATEPLAN_TYPE_ID
REC_VERSION
ENTRY_DATE


replacement_id
rateplan_type_id
rec_version
entry_date


Counter table: IMSI_COUNTER_VALUE

REPLACEMENT_ID
COUNTER_VALUE

replacement_id
counter_value


History Table: IMSI_REPLACEMENT_HIST

CO_ID
FAKE_IMSI
ORIG_IMSI
ORIG_NPCODE
REQUEST_ID
REQUEST_TYPE

co_id
fake_imsi
orig_imsi
orig_npcode
request_id
request_type



IMSIReplacementConfiguration
IMSIReplacementRPType
IMSICounterValue
IMSIReplacementHistory 


field naming convection
Table column naming convetion
create script
clolumn should be in sync

https://metro2.sabcc.ericsson.se/tts/login.cgi --TTS

for raising request for creating a new DB instance
--------------------------------------------------

DAB [pn drd dbr ir]-->

TTS Type->dbr(DB Instance request)
Subject (*)->please create an DB instance
Database Alias (*)->d1nbrtst
Reason for the order
--------------------
	Hi Team,

please create a DB instance for the below details.


Source DB:d1nbrtst
new DB:d4nbrtst
TTS: Google Translation

Remarks
-------

Hi Team,

please create a DB instance for the below details.


Source DB:d1nbrtst
new DB:d4nbrtst
TTS: Google Translation
The TTS has been opened successfully.
The TTS ID is   210755


RefreshManager.initializeRefresh

new updates
===========
Common:
 
1.	//Copyright (c) 2005 LHS Telekom GmbH &amp; Co. KG – Use the latest copyright
2.	Remove unused imports--done
3.	Provide documentation for class 
4.	This method contains the mapping of the IMSICounterValue class to the BSCS database. – mentioned the table name. Refer other class files.--done
 
/*PIMSIReplacementHistory.java
 
Remove the below code as it is not required.
 
dtf = new DirectToFieldMapping();
        dtf.setAttributeName("_origNpcode");
        dtf.setFieldName("ORIG_NPCODE");
        d.addMapping(dtf);
 */done
9.	The tables IMSI_REPLACEMENT_CONFIG and IMSI_REPLACEMENT_RP_TYPE has REC_VERSION column. Do we need to consider the latest rec_version always to identify the IMSI pattern?--d
[Vivek] Yes.

11.	The PORT_NUM column in PORT table is type of VARCHAR (50) but IMSI_REPLACEMENT_HIST table FAKE_IMSI and ORIG_IMSI columns are mentioned as Integer in FSP. Should we use the same type as PORT table? --done
[Vivek] Yes. Create these columns as VARCHAR (50).--done

12.	What is the use of ORIG_NPCODE column in IMSI_REPLACEMENT_HIST table?--done
[Vivek] It is always 60 in this table. Remove this column, it is not required.--done

21.	Is REPLACEMENT_ID column is primary key column in IMSI_COUNTER_VALUE table?--done
[Vivek] Yes--done



creating feature in clear quest
--------------------------------
Identify and Replace fake IMSI during Contract activation.


PN no:00431090
->click new PN
->fill the below fields

.Abstract(Replace fake IMSI with real during contract activation and resource replace)
.Prefix(NBR)
.Reliese(I_BSCSIX_R2_NBR13.01)
.Component(CMS,DAB)
.owner(zaurdei)
.DIDDET(K A Requirement)
.SHDDET(K A Requirement)

after filling the details click ok
->search by PN no and change the status to accepted. 


- CONTRACT.NEW
- CONTRACT_DEVICE.ADD
- CONTRACT_SERVICES.ADD
- CONTRACT_SERVICE_RESOURCES.WRITE
- CONTRACT.WRITE


PortI port = ((StorageMediumI) (newResource)).getPortI();
    		long portNPCode = port.getResourceRegulationI().getIDI(); 
			
			Type mismatch: cannot convert from com.lhs.Contract.bscs_core.ContractedResourcesProperties to
			                                   com.lhs.Contract.bscs_nii.ContractedResourcesProperties
											   
[‎9/‎7/‎2018 12:52 PM]  Deivamani Arumugam:  
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\persistence\PIMSICounterValue.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\persistence\PIMSIReplacementConfiguration.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\persistence\PIMSIReplacementHistory.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\persistence\PIMSIReplacementRPType.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\IMSICounterValue.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\IMSIReplacementConfiguration.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\IMSIReplacementHistory.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\IMSIReplacementRPType.java 
 
[‎9/‎7/‎2018 1:17 PM]  Deivamani Arumugam:  
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_core\external\PortI.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_core\Port.java
bsst_cms\bscs\src\cms\java\com\lhs\Resource\bscs_nii\BOregister.java 
 
[‎9/‎7/‎2018 5:25 PM]  Deivamani Arumugam:  
bsst_cms\bscs\src\cms\java\com\lhs\Contract\bscs_nii\services\ContractResourcesReplace.java 
 
											   
											   
											   IdentifyingfakeIMSI
											   getIMSIPattern
											   GenerateRealIMSI
											   ReplaceRealIMSI
											   UpdateRealIMSI
											   UpdateCounter
											   UpdateHistory
											   
											   
C:\Data\R2_code\R_I_BSCSIX_R2_NBR13.01\bsst_cms\bscs\src\cms\java\com\lhs\Contract\bscs_nii\services\ContractResourcesReplace.java
C:\Users\acharysk\Desktop\local file\ContractResourcesReplace.java											   



Sep 11, 2018 7:26:33 AM com.lhs.ccb.sfw.application.BasicServer readConfiguration
INFO: Level information: null
Sep 11, 2018 7:26:33 AM com.lhs.ccb.sfw.application.BasicServer loadOrbProperties
INFO: Reading orb.properties...
Sep 11, 2018 7:26:34 AM com.lhs.ccb.sfw.application.ServerController run
INFO: control file: /home/dsvaishn/WORK/d4nbrtst/LOG/cms/../proc/rome_43354/com/lhs/private/soi/CMS_900/control
Sep 11, 2018 7:26:34 AM com.lhs.ccb.sfw.application.ServerController run
INFO: status  file: /home/dsvaishn/WORK/d4nbrtst/LOG/cms/../proc/rome_43354/com/lhs/private/soi/CMS_900/status
Sep 11, 2018 7:26:34 AM com.lhs.ccb.sfw.application.BasicServer getSOIList
INFO: Configured SOI's: security_1.xml security_1_nii_1.xml CMI_1.xml CMI_2.xml CMI_2_NII_1.xml BSI_1.xml BSI_2.xml BSI_2_NII_1.xml IN_1.xml IN_2.xml IN_2_NII_1.xml ESH_1.xml CIL_2_NII_1.xml SCS_1.xml 
Sep 11, 2018 7:26:39 AM com.lhs.ccb.sfw.application.ExtendedServer main
SEVERE: 
Can't initialize server, exiting
java.lang.NoClassDefFoundError: com/lhs/BusinessPartner/bscs_core/i
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:800)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:190)
	at com.lhs.ccb.sfw.application.BasicServer.initializeServiceLayerAdapter(Unknown Source)
	at com.lhs.ccb.sfw.application.BasicServer.initializeServiceLayerAdapters(Unknown Source)
	at com.lhs.ccb.sfw.application.BasicServer.initialize(Unknown Source)
	at com.lhs.ccb.sfw.application.ExtendedServer.main(Unknown Source)
Caused by: java.lang.ClassNotFoundException: com.lhs.BusinessPartner.bscs_core.i
	at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	... 18 more

Sep 11, 2018 7:26:39 AM org.quartz.simpl.SimpleThreadPool initialize
INFO: Job execution threads will use class loader of thread: main
Sep 11, 2018 7:26:39 AM org.quartz.core.QuartzScheduler <init>
INFO: Quartz Scheduler v.1.5.1 created.
Sep 11, 2018 7:26:39 AM org.quartz.simpl.RAMJobStore initialize
INFO: RAMJobStore initialized.
Sep 11, 2018 7:26:39 AM org.quartz.impl.StdSchedulerFactory instantiate
INFO: Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
Sep 11, 2018 7:26:39 AM org.quartz.impl.StdSchedulerFactory instantiate
INFO: Quartz scheduler version: 1.5.1
Sep 11, 2018 7:26:39 AM org.quartz.core.QuartzScheduler shutdown
INFO: Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
Sep 11, 2018 7:26:39 AM org.quartz.core.QuartzScheduler standby
INFO: Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
Sep 11, 2018 7:26:39 AM org.quartz.core.QuartzScheduler shutdown
INFO: Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
Sep 11, 2018 7:26:39 AM com.lhs.ccb.sfw.application.BasicServer exitServer
INFO: exiting...
Sep 11, 2018 7:26:39 AM com.lhs.ccb.sfw.application.ServerController$5 run
INFO: closing controller thread








For every feature they are creating new folder like below and 
 
Home / What's New? / Features for Nextel Brazil / Workpackage NII11 / DCR 058 - DIG Segmentation Method 
 
http://cpipub.epk.ericsson.se/st4/istanbul_nii_nbr/current/Documentation/start.html?file=1568508427-4.html 
 
CONTRACT.WRITE:
http://cpipub.epk.ericsson.se/st4/istanbul_nii_nbr/current/Documentation/start.html?file=CONTRACT.WRITEcil_cmd.html 
 
CONTRACT_RESOURCES.REPLACE:
http://cpipub.epk.ericsson.se/st4/istanbul_nii_nbr/current/Documentation/start.html?file=CONTRACT_RESOURCES.REPLACEcms_cmd.html
 
Change resource in CX: 
http://cpipub.epk.ericsson.se/st4/istanbul_nii_nbr/current/Documentation/start.html?file=262870411-1.html
 

 
 
Resource replacement
--------------------
http://cpipub.epk.ericsson.se/st4/istanbul_nii_nbr/current/Documentation/start.html?file=262870411-1.html


Contract Activation
-------------------
http://cpipub.epk.ericsson.se/st4/istanbul_nii_nbr/current/Documentation/start.html?file=CONTRACT.WRITEcil_cmd.html

 



TR HW86263
----------
CX - Current balance and total open amount fields are not considering the payment made


Use the "twoPhaseBillingOnDemandRealBillingAccountBalancePaymentRejected" test automation ('<FULLSTACK> src/main/testcases/mainTests/E2E/TwoPhaseBilling/TwoPhaseBilling.robot') 
to reproduce the error.

Required licenses: finlib ( LHS_BSCS_RULEBASEDPAYMNT, LHS_BSCS_RULEBASEDPYMNT2 etc. )
          Two Phase Billing - LHS_BSCS_TWOPHASEBILLING
Steps :
-------
1.Create a customer and contract, at least one service with recurring and subscription charges;

2.Billing the customer in real mode;

3.Check the customer balance's in customer overview in CX web application (current balance and total open amount fields);

4.Start a new real mode billing in two-phase to the customer;
 Purpose: Real
 Mode: ODB
 TWO_PHASE_BILLING flag: true
 
 
 
 
5.Execute a payment( 10% of open amount) using the financialAllocationWrite command or AX web application;

6.Reject (cancel) the two-phase billing of customer;
 QA_STATUS: Rejected
 
7.Start the 'rollback' of the billing;

8.Check if customer balance's after the rollback of billing are consider the payment made.

Error: 
 The current balance and total open amount fields are not considering the payment.
 
 
 git clone ssh://<Your LHS username>@gitrepo.lhs-systems.com:29418/GIT_main 
 git clone ssh://ZNSHACA@gitrepo.lhs-systems.com:29418/GIT_main 
 
 git clone ssh://znshaca@gitrepo.lhs-systems.com:29418/robot-keywords
 git clone ssh://znshaca@gerrit.ericsson.se:29418/bscs/robot-keywords
 
 mklink /J keywords C:\Data\robot-keywords\keywords
 
 
 User: AUT Customer: cu2, -- Customer code: 1.328 Customer public key: CUST0000000269
 User: AUT Customer: cu2, -- Customer code: 1.328 Customer public key: CUST0000000269 Contract code: CONTR0000000216 Main directory number: --
 
 
 
pbch.sh -Z -B odb -c 422 -M real -S 2018-09-28 08:45:59


[‎9/‎18/‎2018 12:44 PM]  Sangram Panda:  
rdh -udmap & 
rdh -bch & 
 
[‎9/‎18/‎2018 12:54 PM]  Sangram Panda:  
data &
 
User: AUT Customer: cu3, -- Customer code: 1.328 Customer public key: CUST0000000269
User: AUT Customer: cu3, -- Customer code: 1.328 Customer public key: CUST0000000269 Contract code: CONTR0000000216 Main directory number: -- 


cd /cbio
 
. set-env.sh
 
bch -b75 -Mreal -S2017-09-01:00:00:00 -Z -D20170930bch -a0 & 

// you will get bill seq number in the above step…

bch -a1 &
bch -a2 &
bch -a3 &
notifyBHC.sh -r <billseqno> -B bc 
bch -b75 -Mreal -S2017-09-01:00:00:00 -Z -D20170930
bch -a0 &
bch -a1 &
bch -a2 &
bch -a3 &
notifyBHC.sh -r <billseqno> -B bc  



revised steps
-------------
Two phase billing.
 
 1) In docker putty connection,
		cd /cbio
		. start-env.sh
 
 
 2) bch -c<customer-id> -Mreal -S<date on when real billing should happen>:00:00:00 -Z
 
 bch -c424 -Mreal -S2018-10-21:00:00:00 -Z
 //here once billing was done on a specific date, we are restricted to repeat the real billing until a month
 
		   bch -c425 -Mreal -S2018-10-21:00:00:00 -Z
		
-->partial payment need to be made through screen

 3) Execute the below commands
 
		bch -a0 &

		bch -a1 &

		bch -a2 &

		bch -a3 &
 
  4) To get bill sequece number
		edit BCH_PROCESS_CUST where customer_id = <>  
		
  5) edit BCH_QA_INTERFACE where billseqno = <> and Customer_id = <> -- update the QA_STATUS to R
  
  6) cd /cbio/scripts
	bash
	 
	notifyBHC.sh -r <billseqno> -B bc
	notifyBHC.sh -r 1250 -B bc
 

 notifyBHC.sh -r 1250 -B bc
 
 
 
 notifyBHC.sh -r 1250 -B bc
 
 
 
 vinoth:    bch -M real -c 430 -S 2018-09-21:10:05:52 

vinoth :   bch -c 430 -M real -S 2018-10-21:00:00:00 -Z 
 
vinoth  :  notifyBCH.sh -B odb -r 1252



CONTRACT_ALL
------------
The CONTRACT_ALL table contains general contract data for a customer.

CCONTACT_ALL
------------
- The contact data (addess, phone number, ...) is stored in the CCONTACT_ALL table.

CUSTOMER_ALL(Customer Table)
----------------------------

The CUSTOMER_ALL table stores the customer and dealer names and additional information. A customer can have multiple contracts and multiple addresses.

- The contracts are stored in the CONTRACT_ALL table.



Both tables refer to the CUSTOMER_ALL table.

More information:

- CONTRACT_ALL table comment

- CCONTACT_ALL table comment

- CONTRACT_CONTACT table comment

_SYSTEST_DAB_INFO

Table Names:
-----------------------------------------------------------------------------------------
CUSTOMER_ALL
DIRECTORY_NUMBER 
PORT
CONTR_DEVICES
STORAGE_MEDIUM
CONTRACT_ALL
GMD_DESTINATION
PROFILE_SERVICE
MSDSVTAB
GMD_RESPONSE
LICENSE_CONFIG
LICENSE_FEATURES
DCH_COLLECTIBLE_CTRL
WORKFLOW_ENTITY
DCH_EVENT_CTRL
ORDERHDR_ALL
RESOURCE_LINK
NET_PHYSICAL_HLR_ADDRESS
MPDNPTAB
COMPOSITEPRODUCT
RATEPLAN_TO_RATEPLAN_TYPE
IMSI_REPLACEMENT_RP_TYPE
IMSI_COUNTER_VALUE
IMSI_REPLACEMENT_CONFIG

BCH_PROCESS_CUST
BCH_QA_INTERFACE
BILLING_ACCOUNT
MPULKIXD
OVERDUE_DETECTION_VIEW
DCH_EVENT_CTRL
MPSCFTAB


CUSTCODE --> Customer code eg. 1.334
CSACTIVATED --> Customer Activation date
CSCURBALANCE --> Current balance of the customer
CUSTNUM ---> Customer public key 



HX17504 
 
 

Automation not required for internal TRs





/tomcat/apache-tomcat-8.0.39/bin

/tomcat/apache-tomcat-8.0.39/webapps/wex/WEB-INF

git clone ssh://znshaca@gerrit.ericsson.se:29418/bscs-tools/git-tools git-tools
git clone ssh://znshaca@gerrit.ericsson.se:29418/bscs-tools/git-tools git-tools

git config user.email santosh.kumarachary@globallogic


git commit --amend --reset-author
git commit --amend 	//updates your last commits



function setUp : setup all environment variables and scripts printing logs.

function secureTomcatApps: checking and changing server.xml and web.xml



CUST0000000849


http://vmx0735.ete.ka.sw.ericsson.se:8026/wex/SolutionUnitServlet?StartSu=true&SuName=HomeSU&SuToken=cba02a56c8be96a711167fb08f647e1f&RequestTimeStamp=1538397608225



 lhsj_main/bscs/batch/src/func/frmwk/srv/java/com/lhs/ccb/sfw/application/BasicServer.java
        lhsj_main/bscs/cms/src/clt/cx/J_CX.launch
        lhsj_main/bscs/cms/src/cms/CMS Servers with WSI and REST.launch
        lhsj_main/bscs/cms/src/cms/java/com/lhs/Contract/bscs_core/services/ContractServicesAdd.java
        lhsj_main/bscs/cms/src/cms/java/com/lhs/Contract/bscs_core/services/ContractWrite.java

		
		
		
acharysk@GL-ACHARYSK-7 MINGW64 /c/data/code/core/lhsj_main/bscs (master)
$ git checkout spec/master
Checking out files: 100% (2154/2154), done.
M       lhsj_main/bscs/batch/src/func/frmwk/clt/WEB-INF/jsp/func/wcs/base.jsp
M       lhsj_main/bscs/batch/src/func/frmwk/srv/java/com/lhs/ccb/sfw/license/LicenseUtilsFacade.java
M       lhsj_main/bscs/batch/src/func/frmwk/srv/java/com/lhs/ccb/sfw/license/impl/LicenseUtilsImpl.java
M       lhsj_main/bscs/batch/src/func/jff/FedFactory/J_FedFactory.launch
M       lhsj_main/bscs/batch/src/jdxlib/src/com/lhs/dxl/support/SimpleMessageListenerContainerInitializer.java
M       lhsj_main/bscs/batch/src/wms/J_WFMSSupportToolETCRM.launch
M       lhsj_main/bscs/cms/src/cms/.gitignore
M       lhsj_main/bscs/cms/src/cms/All Servers.launch
M       lhsj_main/bscs/cms/src/cms/idl/nonkernel/isoAddress/DummyIsoAddress.launch
Branch spec/master set up to track remote branch spec/master from origin.
Switched to a new branch 'spec/master'

		
		
		
BILLING_ACCOUNT_ASSIGNMENT_TEMPLATE.WRITE  
BILLING_ACCOUNT_ASSIGNMENT_TEMPLATE_NEW  
ADDRESS.WRITE 		


HX23985 SHU32 - Missing impacts of Backdate functionality in BA and Address commands

PN00431486

00431486_cms_interfacechange
00429638_cms_interfacechange

clear quest password:ccznshaca


git checkout lhsj_main/bscs/batch/src/func/frmwk/clt/WEB-INF/jsp/func/wcs/base.jsp

git clone ssh://znshaca@gerrit.ericsson.se:29418/bscs/core

git clone ssh://zarudei@gerrit.ericsson.se:29418/bscs/core -b spec/master R17

git clone ssh://zarudei@gerrit.ericsson.se:29418/bscs/core -b ep/17.25.18-shu-x

git clone ssh://zhshaca@gerrit.ericsson.se:29418/bscs/core -b ep/17.25.18-shu-x

git checkout -b ep/17.25.18-shu-x

git checkout ep/17.25.18-shu-x

ep/17.25.18-shu-x 




git branch -d ep/17.25.18-shu-x 

git branch -D ep/17.25.18-shu-x

git branch -d ep/17.25.18-shu-x

CONTR0000000246 

55509911850 
55509911876 

1.338

User: AUT Customer: cu1, -- Customer code: 1.329 Customer public key: CUST0000000272 



Slogan: after call SOAP contractinfoCompositeRequest the flag MAIN DIR NUM X are in both Number and CS_ACTIV_DATE and CS_DEACTIV_DATE columns is populated with SYSDATE instead of Effective date

DEF.M170000201826Fd
Title:
DEF.M170000201826Fd - PH1_NFT_NK21_CIL-CLIENT:After Processing MODVASNUM order for change of secondary directory number
to default directory number successfully  but Sysdate was updated in
contr_services_cap table instead of Effective given in order.

Below are the steps to replicate / re-tested this defect DEF.M170000201826Fd – 2018OCT02

1)Created customer  backdate 2014MAR
customer_id=5480054        custcode=1.1412

2)Create Contract co_id=2713 backdate 2018MAR06
use spcode and sncode below:
spcode=1030    FTTP Circuit Package    MOS28
sncode=4008    CircuitID  ===> assign DirNum=0033A9B9000F as MAIN DIRNUM=X , MAIN_DIRNNUM flag is X for 0033A9B9000F in CONTR_SERVICES_CAP table

spcode=1500    MaxOnline MacID    MOL00
sncode=4001    MaxOnline MAC ID ===> assign DirNum=65888777555 as MAIN DIRNUM is NULL

Add New service sncode=4001    MaxOnline MAC ID  with directory number (65888777555).
 Observe that MAIN_DIRNNUM flag is NULL for 65888777555  in CONTR_SERVICES_CAP table.

3) Swap the directory numbers 0033A9B9000F (Initial primary), 65888777555 h(Initial secondary)  from primary directory number to secondary 
and vice versa by calling CONTRACT_SERVICE_RESOURCES.WRITE .
Expected Results: In CONTR_SERVICES_CAP table MAIN_DIRNUM flag X will change to (65888777555)
 and NULL will update to (0033A9B9000F) with CS_ACTIV_DATE and CS_DEACTIV_DATE columns are populated with Effective Date (backdate 2018MAY17).

This  step to build a new composite SOAP command contractinfoCompositeRequest  and successfully executed it.

<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
       xmlns:con="http://ericsson.com/services/ws_CIL_7/contractinfocomposite"
       xmlns:con1="http://ericsson.com/services/ws_CIL_7/contractnew"
       xmlns:gen="http://ericsson.com/services/ws_CIL_7/genericdirectorynumbercreate"
       xmlns:stor="http://ericsson.com/services/ws_CIL_7/storagemediumcreate"
       xmlns:con2="http://ericsson.com/services/ws_CIL_7/contractdeviceadd"
       xmlns:prof="http://ericsson.com/services/ws_CIL_7/profileserviceschange"
       xmlns:prod="http://ericsson.com/services/ws_CIL_7/productchange"
       xmlns:con3="http://ericsson.com/services/ws_CIL_7/contractservicesadd"
       xmlns:con4="http://ericsson.com/services/ws_CIL_7/contractserviceresourceswrite"
       xmlns:con5="http://ericsson.com/services/ws_CIL_7/contractinfowrite"
       xmlns:con6="http://ericsson.com/services/ws_CIL_7/contractserviceparameterswrite"
       xmlns:phon="http://ericsson.com/services/ws_CIL_7/phonenumberimport"
       xmlns:con7="http://ericsson.com/services/ws_CIL_7/contractserviceswrite"
       xmlns:con8="http://ericsson.com/services/ws_CIL_7/contractwrite"
       xmlns:con9="http://ericsson.com/services/ws_CIL_7/contractread"
       xmlns:cus="http://ericsson.com/services/ws_CIL_7/customerpromotionswrite"
       xmlns:upd="http://ericsson.com/services/ws_CIL_7/updateivdcserviceex"
       xmlns:cmd="http://ericsson.com/services/ws_CIL_7/cmdapnwriteex"
       xmlns:shb="http://ericsson.com/services/ws_CIL_7/shbillextwriteex"
       xmlns:sub="http://ericsson.com/services/ws_CIL_7/subfeeprofilewriteex"
       xmlns:cch="http://ericsson.com/services/ws_CIL_7/cchservicewriteex"
       xmlns:ser="http://ericsson.com/services/ws_CIL_7/serviceportwriteex"
       xmlns:clos="http://ericsson.com/services/ws_CIL_7/closespornsorapnwriteex"
       xmlns:con10="http://ericsson.com/services/ws_CIL_7/contrinstallwriteex"
       xmlns:book="http://ericsson.com/services/ws_CIL_7/bookingrequestwrite"
       xmlns:mon="http://lhsgroup.com/lhsws/money"
       xmlns:prom="http://ericsson.com/services/ws_CIL_7/promoenddatewriteex"
       xmlns:fees="http://ericsson.com/services/ws_CIL_7/feesdescwriteex"
       xmlns:chan="http://ericsson.com/services/ws_CIL_7/channelgroupnewex"
       xmlns:ses="http://ericsson.com/services/ws_CIL_7/sessionchange">
   <soapenv:Header>
     <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" mustUnderstand="0" actor="">
      <wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
      <wsse:Username xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">ADMX</wsse:Username>
      <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText"
      xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">ADMX</wsse:Password>
      </wsse:UsernameToken>
     </wsse:Security>
   </soapenv:Header>
   <soapenv:Body>
      <con:contractinfoCompositeRequest>
         <!--You may enter the following 2 items in any order-->
         <!--Optional:-->
         <con:inputAttributes>
         <con:contractserviceresources>
                <con:item>
                   <con:contractServiceResourcesWrite>
                     <con5:sncode>4008</con5:sncode>
                     <con5:profileId>0</con5:profileId>
                     <con5:directoryNumbers>
                        <con5:item>
                           <con5:dirnum>0033A9B9000F</con5:dirnum>
                           <con5:mainDirnum>false</con5:mainDirnum>
                           <con5:dirnumOnBill>false</con5:dirnumOnBill>
                           </con5:item>
                     </con5:directoryNumbers>
                     <con5:effectiveDate>2018-05-17T00:01:17</con5:effectiveDate>
										 2018-09-10T00:11:48
                     <con5:coId>2713</con5:coId>
                  </con:contractServiceResourcesWrite>
               </con:item>

               <con:item>
                  <con:contractServiceResourcesWrite>
                     <con5:sncode>4001</con5:sncode>
                     <con5:profileId>0</con5:profileId>
                     <con5:directoryNumbers>
                        <con5:item>
                           <con5:dirnum>65888777555</con5:dirnum>
                           <con5:mainDirnum>true</con5:mainDirnum>
                           <con5:dirnumOnBill>true</con5:dirnumOnBill>
                           </con5:item>
                     </con5:directoryNumbers>
                     <con5:effectiveDate>2018-05-17T00:01:17</con5:effectiveDate>
                     <con5:coId>2713</con5:coId>
                  </con:contractServiceResourcesWrite>
               </con:item>
            </con:contractserviceresources>
         </con:inputAttributes>
         <!--Optional:-->
         <con:sessionChangeRequest>
            <!--Optional:-->
            <ses:values>
               <!--1 or more repetitions:-->
               <ses:item>
                  <!--You may enter the following 2 items in any order-->
                  <ses:key>BU_ID</ses:key>
                  <ses:value>2</ses:value>
               </ses:item>
            </ses:values>
         </con:sessionChangeRequest>
      </con:contractinfoCompositeRequest>
   </soapenv:Body>
</soapenv:Envelope>

-------------------------------------------------------------------------------------------------------------------------------------------------

SOI server host: 127.0.0.1
SOI server port: 25510
VM Ip: 164.48.144.166


SOI server host:127.0.0.1
SOI server port: 25510
VM Ip: 164.48.144.89

   
   
Execute the below commands in Docker
------------------------------------
export DISPLAY=164.48.144.166:0.0
soitool.sh -user AUT -password AUT -name com/lhs/public/soi/fedfactory1  -ORBInitRef NameService=corbaloc:iiop:127.0.0.1:25510/NameService -mode gui 


export DISPLAY=164.48.144.89:0.0
soitool.sh -user AUT -password AUT -name com/lhs/public/soi/fedfactory1  -ORBInitRef NameService=corbaloc:iiop:127.0.0.1:25510/NameService -mode gui




137.58.104.86 port 4322

valid from date : 2018-10-12 08:39:00.0

efective date should be less or equal to valid from date

Check whether the valid from date is updated when the user does not provide the valid from date in the request.
Check whether the valid from date is updated when the user does not provide the valid from date in the request.



license server 137.58.104.86 port 4322





gitk \lhsj_main\bscs\cms\src\cms\resource\cdf\CONTRACT_SERVICES_ADD\CMD_7_0.xml

C:\Data\R17_code\core\lhsj_main\bscs\cms\src\cms\resource\cdf\CONTRACT_SERVICES_ADD\CMD_7_0.xml


gitk master origin/master origin/experiment

lhsj_main/bscs/cms/src/cms/resource/cdf/CONTRACT_SERVICES_ADD/CMD_7_0.xml


removeIndividualCharging
multipleRecurringChargeUpdation



137.58.104.28 
4322


COS_ACCFEE_OVW
COS_ACCFEE_OVW_VALID_FROM

coacovvafr

ENV_FILE = "/cbio/start-env.sh"
TEST_PATH = "/cbio/ROBOT_batch_test_data/cbio3.01/rt" 
--loglevel=TRACE -V C:\variables\variables_docker.py

-V C:\Data\gitView\core\lhsj_main\bscs\tests\robotScripts\src\main\testcases\variables.py --outputdir C:\Anand\RobotFramework\robot_output\ --loglevel TRACE 

--loglevel=TRACE -V C:\Data\variables\variables_docker.py 

CONTR0000000116

effectiveDate=${
effectiveDate}

PC15267


TMCODE=11 SPCODE=7 SNCODE=10,11


addDeletePopForActiveContract

${contractIdPub}             Create Basic Contract    ${csIdPub}              rpCodePub=${rpCodeDes}          productOfferingId=${spCodeDes}
${coId}  Get Private Contract Id  ${contractIdPub}                           
#Add Service                                                 
${activationDate}            Add Seconds to Contract Installed Date ${contractIdPub}                             
Add Service to Contract ${contractIdPub}             ${spCode}          11              ${activationDate}
Change Contract Status ${contractIdPub}             2            ${activationDate}            
#Backdate Contract                                                                                
Backdate Contract          ${coId}  ${backDate}       



Test_changeRecurringChargeBeforeLBCDate
    [Documentation]    Author: Ananda Sen (zaeansn)
    ...    This TC verifies that proper error message should be thrown when trying to change recurring charge before LBC Date
    [Tags]    tr    comcel    licenseON=LHS_BSCS_PC15267    CIL_7
    #setup test data
    Add To Context    loginUserHolder    AUT
    Add To Context    loginPasswordHolder    AUT
    #as of now choosing customer with customer_id=101 with activation dt on MAY
    ${effectiveDate}    Add New Date    YYYY-MM-DD    -30
    ${csIdPub}    Set Variable    CUST0000000061
    ${csIdPubHolder}    Add To Context    csIdPubHolder    ${csIdPub}
    ${contractIdPub}    Create Active GSM CONTRACT    ${csIdPub}    rpCodePub=${rpCodeDes}    productOfferingId=${spCodeDes}
    Create Contract With two Services
    ${coId}    Get Contract ID    Cocode
    #Add Service
    Comment    ${activationDate}    Add Seconds to Contract Installed Date    ${contractIdPub}
    Comment    Add Service to Contract    ${contractIdPub}    ${spCode}    11    ${activationDate}
    Comment    Change Contract Status    ${contractIdPub}    2    ${activationDate}
    #Backdate Contract
    Backdate Contract    ${coId}    ${backDate}



Creates an active GSM contract using composite command ContractCreate for market GSM with service telephony.
It uses the keywords to search for Storage medium and for MSISDN.
Only the csIdPub is a mandatory input parmater all others have a default value to create a GSM contract with rateplan GSM simple rateplan and service telephony.
${csIdPub} - public key of customer
${rpcodePub} - public key of rateplan ( default GSR)
${hlcodePub} - public key of hlr ( default Phys.HLR 95)
${spcodePub} - public key of service pacakge (default GNS)
${effectiveDate} - used in case of backdating (optional)



${csIdPub}
${rpcodePub}
${hlcodePub}
${spcodePub}
${sncodePub}
${effectiveDate}

spcodePubdes
sncodePubdes





${queryResult}	Do Query	SELECT TO_CHAR(CO_INSTALLED, 'YYYY-MM-DD"T"HH24:MI:SS') CO_INSTALLED FROM CONTRACT_ALL WHERE CO_CODE = '${coIdPub}'	 	 
${date}	Get Single Element	${queryResult}	0	CO_INSTALLED
${date}	Add Seconds	${date}	${secondsIncrement}	 
 
${queryResult}	Do Query	SELECT TO_CHAR(CO_INSTALLED, 'YYYY-MM-DD"T"HH24:MI:SS') CO_INSTALLED FROM CONTRACT_ALL WHERE CO_CODE = '${coIdPub}'	 	 
${date}	Get Single Element	${queryResult}	0	CO_INSTALLED
${date}	Add Seconds	${date}	${secondsIncrement}	 


${backDate}    Add Months    ${sysdate}    -3
${backDate}    Change Date Format    ${backDate}    YYYY-MM-DDTHH:mm:ssZZ    MM-DD-YYYY HH:MM:SS 










${csIdPub}	rpCodePub=${rpCodeDes}	productOfferingId=${spCodeDes}
spcodePub=${spcodePubdes}	sncodePub=${sncodePubdes}




=============================================================================================

${customerIdPub}	Set Variable	1.308					
${customerId}	Set Variable	400					
${customerIdPub2}	Get Customer ID Pub	${customerId}					
${coCode}	Create GSM Contract With Two Services	csIdPub=${customerIdPub2}	rpcodePub=GSTAN	spcode2Pub=GBAS	sncode2Pub=GSMS	 spcodePub=GBAS	sncodePub=GTEL
${effectiveDate}	Add New Date	days=-30					
Active Contract	${coCode}	${effectiveDate}					
${coId}	Get Contract id	${coCode}					
${effectiveDate1}	Add New Date	days=-1					
${snCode}	Set Variable	11					
${newRecurringCharge}	Set Variable	22					
${newProfileId}	Set Variable	0					
Overwrite Service Recurring Charge	${coCode}	${snCode}	${newRecurringCharge}	${newProfileId}			


==================================================================================================
backup
------
multipleRecurringChargeUpdation_test
    #setup test data
    Add To Context    loginUserHolder    AUT
    Add To Context    loginPasswordHolder    AUT
    #as of now choosing customer with customer_id=101 with activation dt on MAY
    ${effectiveDate}    Add New Date    YYYY-MM-DDTHH:mm:ssZZ    -1
    ${csIdPub}    Set Variable    CUST0000000061
    ${cocode}    Create Active GSM Contract    ${csIdPub}    rpcodePub=GSTAN    spcodePub=GBAS    sncodePub=GTEL
    Comment    Create Contract With two Services
    ${coId}    Get Contract ID    ${cocode}
    ${backDate}    Add Months    ${effectiveDate}    -3
    ${backDate}    Change Date Format    ${backDate}    YYYY-MM-DDTHH:mm:ssZZ    MM-DD-YYYY HH:MM:SS
    Backdate Contract    ${coId}    ${backDate}
	
	
	 #setup test data
    Add To Context    loginUserHolder    AUT
    Add To Context    loginPasswordHolder    AUT
    #as of now choosing customer with customer_id=101 with activation dt on MAY
    ${effectiveDate}    Add New Date    YYYY-MM-DDTHH:mm:ssZZ    -7
    ${csIdPub}    Set Variable    CUST0000000061
    ${cocode}    Create Active GSM Contract    ${csIdPub}    rpcodePub=GSTAN    spcodePub=GBAS    sncodePub=GTEL    effectiveDate=${effectiveDate}



Change Date Format
    ${queryResult}    Do Query    SELECT TO_CHAR(CO_INSTALLED, 'YYYY-MM-DD"T"HH24:MI:SS') CO_INSTALLED FROM CONTRACT_ALL WHERE CO_CODE = '${coIdPub}'
    ${date}    Get Single Element    ${queryResult}    0    CO_INSTALLED
    ${date}    Add Seconds    ${date}    ${secondsIncrement}

overwritting
    ${customerIdPub}    Set Variable    1.308
    ${customerId}    Set Variable    400
    ${customerIdPub2}    Get Customer ID Pub    ${customerId}
    ${coCode}    Create GSM Contract With Two Services    csIdPub=${customerIdPub2}    rpcodePub=GSTAN    spcode2Pub=GBAS    sncode2Pub=GSMS    spcodePub=GBAS
    ...    sncodePub=GTEL
    ${effectiveDate}    Add New Date    days=-30
    Active Contract    ${coCode}    ${effectiveDate}
    ${coId}    Get Contract id    ${coCode}
    ${effectiveDate1}    Add New Date    days=-1
    ${snCode}    Set Variable    11
    ${newRecurringCharge}    Set Variable    22
    ${newProfileId}    Set Variable    0
    Overwrite Service Recurring Charge    ${coCode}    ${snCode}    ${newRecurringCharge}    ${newProfileId}
	
	
	
						Tables
						------
spcode-                 mpusptab
sncode-                 mpusntab
rateplan-               rateplan
everything together -   mpulktmb
contract history-       contract_history
                        contract_All
                        pr_Serv_status_hist	
						
						
error: Your local changes to the following files would be overwritten by merge						

C:\Data\BSCS_CBIO_Master\core\lhsj_main\bscs\tests\robotScripts\src\main

mklink /J keywords C:\Data\keyword\robot-keywords\keywords

137.58.104.86 port 4322 

C:\Users\dsvaishn\core\lhsj_main\bscs\tests\robotScripts\src\main\testcases\3__mainTests\soap\requestLib\contract 

${CURDIR}/ChangeServiceRecurringCharge.xml

checkBillCycleChangeWhenRelDisc 

multipleRecurringChargeUpdation 
validfromFutureDatedCheck

oneTimeAndRecurringChargesPoPIdRCH
 onetimeChargesChnageCheck
validFromDateBeforePreviousAccessFee



${coCode} | ${snCode} | ${accessFee} | ${validfromdate} | ${profileId}=0 | ${feeType}=A | ${overWritePeriod}=1

Overwrite Service Recurring Charge
----------------------------------
${coCode} | ${snCode} | ${accessFee} | ${profileId}=0 | ${feeType}=A | ${overWritePeriod}=1

${coCode} | ${snCode} | ${accessFee} | ${validfromdate} |${profileId}=0 | ${feeType}=A | ${overWritePeriod}=1





${csIdPub} | ${productOfferingId} | ${dirnum} | ${cfssId} | ${stmedno}=${EMPTY} | ${sccodePub}=GSM | ${submarketIdPub}=GSM | ${plcodePub}=EUR01 | ${npcodePub}=E.164 | ${Fault}=${EMPTY} | ${portnum}=${EMPTY} | ${portNpcodePub}=${EMPTY} | ${technologyId}=${EMPTY} | ${resourceSpecId}=${EMPTY}



TRACE 	Arguments: [ u'C:\\Data\\R17_code\\core\\lhsj_main\\bscs\\tests\\robotScripts\\src\\main\\testcases\\3__mainTests\\soap\\requestLib\\contract/ChangeServiceRecurringCharge.xml' ] 	
12:25:04.976 	INFO 	Getting file 'C:\Data\R17_code\core\lhsj_main\bscs\tests\robotScripts\src\main\testcases\3__mainTests\soap\requestLib\contract\ChangeServiceRecurringCharge.xml' 	
12:25:04.977 	TRACE 	Return: u'<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:con="http://ericsson.com/services/ws_soiVersionHolder/contractserviceswrite" xmlns:ses="http://ericsson.com/services/ws_soiVersionHolder/sessionchange">\n   <soapenv:Header>\n      <Security xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">\n         <UsernameToken>\n            <Username>AUT</Username>\n            <Password>AUT</Password>\n         </UsernameToken>\n      </Security>\n   </soapenv:Header>\n   <soapenv:Body>\n      <con:contractServicesWriteRequest>\n         <con:inputAttributes>\n            <con:services>\n               <con:item>\n                  <con:sncode>snCodeHolder</con:sncode>\n                  <con:profileId>profileIdHolder</con:profileId>\n                  <con:cosAccfeeOvw>accessFeeHolder</con:cosAccfeeOvw>\n                  <con:cosAccfeeOvwType>overWriteFeeTypeHolder</con:cosAccfeeOvwType>\n                  <con:cosAccfeeOvwPrd>overWritePeriodHolder</con:cosAccfeeOvwPrd>\n\t\t\t\t  <con:cosAccfeeOvwValidFrom>effectiveDateHolder</con:cosAccfeeOvwValidFrom>\n               </con:item>\n            </con:services>\n            <con:coIdPub>coCodeHolder</con:coIdPub>\n         </con:inputAttributes>\n         <con:sessionChangeRequest>\n            <ses:values>\n               <ses:item>\n                  <ses:key>?</ses:key>\n                  <ses:value>?</ses:value>\n               </ses:item>\n            </ses:values>\n         </con:sessionChangeRequest>\n      </con:contractServicesWriteRequest>\n   </soapenv:Body>\n</soapenv:Envelope>\n\n\n         ' 	
12:25:04.977 	INFO 	${changeServiceRecurringCharge} = <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:con="http://ericsson.com/services/ws_soiVersionHolder/contractserviceswrite" xmlns:ses="http://ericsson.com/services/w...


TRACE 	Arguments: [ u'C:\\Data\\R17_code\\core\\lhsj_main\\bscs\\tests\\robotScripts\\src\\main\\testcases\\3__mainTests\\soap\\basic\\CMI/ChangeServiceRecurringCharge.xml' ] 	
12:27:28.060 	INFO 	Getting file 'C:\Data\R17_code\core\lhsj_main\bscs\tests\robotScripts\src\main\testcases\3__mainTests\soap\basic\CMI\ChangeServiceRecurringCharge.xml' 	
12:27:28.061 	FAIL 	IOError: [Errno 2] No such file or directory: u'C:\\Data\\R17_code\\core\\lhsj_main\\bscs\\tests\\robotScripts\\src\\main\\testcases\\3__mainTests\\soap\\basic\\CMI\\ChangeServiceRecurringCharge.xml' 	
12:27:28.061 	DEBUG 	Traceback (most recent call last):
  File "C:\Python27-64\lib\site-packages\robot\libraries\OperatingSystem.py", line 333, in get_file
    content = self.get_binary_file(path)
  File "C:\Python27-64\lib\site-packages\robot\libraries\OperatingSystem.py", line 346, in get_binary_file
    with open(path, 'rb') as f:
	
	
AddServiceWithOverwrittenRecurringChargeAndValidFrom	
ServiceOverwrittenRecurringChargeValidFromFutureDateNotAllowed



ns0:CMS.Contract.RecurringChargeValidFromFutureDated

ns0:CMS.Contract.RecurringChargeValidFromDateNotValid 

ns0:CMS.Contract.RecurringChargeValidFromDateNotValid

    #Create Customer BackDated
    ${customerIdPub}    Create Basic Customer
    ${custId}    Get Customer Id    ${customerIdPub}
    ${backdate}    Add New Date    format=MM/DD/YYYY HH:mm:ss    days=-30
    BackDate Customer    ${custId}    ${backdate}

	
TC_25_Error validation in CX for valid from date before the last rate plan change for the contract
TC_26_Error validation in CX for valid from date before the last service package change for the service

TC_25 & TC_26

validFromDateBeforeLastRatePlanChange
validFromDateBeforeLastServicePackageChange
	


SELECT VALID_FROM_DATE FROM PR_SERV_SPCODE_HIST WHERE CO_ID=${coId} AND SNCODE=${snCode} \ ORDER BY REC_VERSION DESC 

${effectiveDate1}    Change Date Format    ${effectiveDate1}    YYYY-MM-DD HH:mm:SS    YYYY-MM-DDTHH:mm:ss 
${effectiveDate1}    Subtract Time From Date    ${lbc_date}    8 days    exclude_millis=True


20181029 07:40:59.018 :  INFO : ${result} = [['TMCODE_DATE'], [(datetime.datetime(2018, 9, 29, 6, 40, 56),)]]
20181029 07:40:59.019 :  INFO : ${validfromdate} = 2018-09-29 06:40:56
20181029 07:40:59.021 :  INFO : TM_CODE_DATE_ACTUAL_FROM_DB : 2018-09-29 06:40:56
20181029 07:40:59.024 :  INFO : ${validfromdate} = 2018-09-27 06:40:56
20181029 07:40:59.028 :  INFO : ${validfromdate} = 2018-09-27T06:40:00
20181029 07:40:59.029 :  INFO : TM_CODE_DATE_AFTER CONVERSION : 2018-09-27T06:40:00


00431853 - cms
00431853_test - Automation

git checkout 00431853
git checkout feature/00431853_test

git checkout -b feature/00431853_test

validFromDateBeforeLastRatePlanChange
validFromDateBeforeLastServicePackageChange

20181029 07:27:42.407 :  INFO : Valid from date is :   2018-10-31T06:27:39


Should Be Equal    ${validFrom}    ${lbc_date} 


${result}    Do Query    SELECT TMCODE_DATE FROM RATEPLAN_HIST WHERE CO_ID = ${coId}

SELECT VALID_FROM_DATE FROM PR_SERV_SPCODE_HIST WHERE CO_ID=${coId} AND SNCODE=${snCode} \ ORDER BY REC_VERSION DESC 

SELECT VALID_FROM_DATE FROM PR_SERV_SPCODE_HIST WHERE CO_ID= ${coId}

addDeletePopForActiveContract


User: AUT Customer: cu1, -- Customer code: 1.364 Customer public key: CUST0000000305


Get Customer ID Pub,Create GSM Contract With Two Services,Active Contract,Get Contract id,Overwrite Service Recurring Charge,Change Product,Wait Until Contract Be Processed via GMD


lib
---
cd /cbio/lib/jar
cd /tomcat/apache-tomcat-8.0.39/webapps/custcare_cu/WEB-INF/lib 

ps -ef | grep cms
kill -9 <process id>


137.58.104.86 port 4322	


createBillingAccountAssignmentTemplateBackdated
changeNameBillingAccountAssignmentTempalteBackdated
---------------------------------------------------
The valid from cannot be in the past.



addBillingAccountAssignmentBackdated

------------------------------------
The specified effective date 10/28/18 6:04 AM must be later or equal to the customer activation date 11/2/18 7:04 AM.

changeBillingAccountStatusBackdated
-----------------------------------
 Nov 02, 2018 != Oct 30, 2018
 
Output:  c:\users\acharysk\appdata\local\temp\RIDEjodl1r.d\output.xml
Log:     c:\users\acharysk\appdata\local\temp\RIDEjodl1r.d\log.html
Report:  c:\users\acharysk\appdata\local\temp\RIDEjodl1r.d\report.html



=====================================================================================================================================================


git checkout -b feature/00431853_test
git push -u origin feature/00431853_test
 
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
Code Review - Patch Set 1
&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
 
git add 
git commit -m "Added new automation file for COMCEL PC"
git push origin feature/00431853_test
 
git checkout master
git pull -f
git checkout feature/00431853_test
git pull -f
git merge master [To merge a different branch into your active branch:]
 
git mergetool [Run only if you have conflicts]
git commit -m "Merge conflicts resolved for patch set 2" [Run only if you have conflicts]
 
git push origin feature/00431853_test [Should run always after merge]
 
git checkout master
 
git pull -f
 
Accept PN first then raise review, If it is not a first patch set then please add change id in review command
 
git review feature/00431853_test Ic00c869afb373e9dbac527e2283f78f8da199021






Rajkumar:
 
Username: xrajkmu
Password: Global@890
 
Vinoth G:
 
Username: zgovvin
Password: Tissmyeric@33
 
Deivamani:
 
Username: zarudei
Password: Infy2GL@9
 
We have to merge the below changes to master on Tuesday (6-Nov-2018) before 5pm.
 
Automation (Use Vinoth’s credentials): https://gerrit.ericsson.se/#/c/4343977/
HX29584 (Use Rajkumar’s credentials): https://gerrit.ericsson.se/#/c/4361970/
HX29592 (Use Rajkumar’s credentials): https://gerrit.ericsson.se/#/c/4361845/
License (Use Deivamani’s credentials): https://gerrit.ericsson.se/#/c/4370855/








https://gerrit.ericsson.se/#/c/4289342/5/lhsj_main/bscs/tests/robotScripts/src/main/testcases/3__mainTests/batch/BCH/



ComplexConditionTaxProcessUdr.robot


overwriteRecurringChargeWithoutValidFromDateAndLBCDateAsLatest 
lhsj_main/bscs/tests/robotScripts/src/main/testcases/3__mainTests/online/TA/TaxPackages.robot








HX29584 (Use Rajkumar’s credentials): https://gerrit.ericsson.se/#/c/4361970/
HX29592 (Use Rajkumar’s credentials): https://gerrit.ericsson.se/#/c/4361845/


HX29584

1 .   D E L I V E R A B L E S
=============================
 
CX
 
==================================================================
2 .  D E S C R I P T I O N   O F   P R O B L E M 
====================================================================
 
Clearly described in the TR.

===================================================================
3 .  D E S C R I P T I O N   O F   S O L U T I O N
====================================================================
 
Option to overwrite the recurring charge is provided in CX Service details page.

================================================
4 .   M A P P I N G   I N F O R M A T I O N
=================================================

 Prod Name  Node name  Prod Number  Mapping Information
---------- ---------- -----------  ---------------------------------------------------
BSCS       iX 17A      FAM 901 532  Corrected in ICP-17-1901 and all following ICPs

=================================================
5. Test cases
=================================================

Please find the attached document

HX29592


1 .D E L I V E R A B L E S
===========================
 
CX
 
====================================================================
2 .  D E S C R I P T I O N   O F   P R O B L E M 
====================================================================
 
Clearly described in the TR.

===================================================================
3 .  D E S C R I P T I O N   O F   S O L U T I O N
====================================================================
 
Truncated time stamp from Valid_from and SP_change date before comparision.

================================================
4 .   M A P P I N G   I N F O R M A T I O N
=================================================

Prod Name  Node name  Prod Number  Mapping Information
---------- ---------- -----------  ---------------------------------------------------
BSCS       iX 17A      FAM 901 532  Corrected in ICP-17-1901 and all following ICPs
 
=================================================
5. Test cases
=================================================

Please find the attached document


PC 15267
--------

Enhancement in History of Overwritten Recurring Charges

To support prorating of overwritten past recurring charges at billing time, a history of modifications to these charges is available. The valid from 
date was set according to one of these actions:

    rate plan change

    rate plan version change

    service status change

    service package code change

To be more flexible and not dependent on one of the actions above, a valid from date can be set manually for overwritten recurring charge. According 
to this date prorating is done and a history entry is added to the table of overwritten recurring charges.

For examples how overwritten past recurring charges are prorated, refer to Overwritten Past Recurring Charges.
Restrictions

The extended overwrite logic will be used for prorated past recurring charges only. The handling of other recurring charges is not changed.
License Mechanism

This product enhancement is subject to the LHS_BSCS_PC15267 license. The functionality is available only if this license and any prerequisite licenses 
are active and have not expired yet. For details about the implementation and handling of the required license files, refer to License Management.

This is a one-way license. Once it is activated, it must never be deactivated. If the license expires, the system will no longer function. When 
renewing the license, it is imperative that it is installed before the old one expires.

Related Features

History of Overwritten Recurring Charges - introduces the history of overwritten recurring charges that is enhanced by this feature.
Implementation Details

To display the content related to this product enhancement, including the Implementation Details in this chapter, select the check box for this product enhancement in the Licenses flyout panel. Show Me How.


PC 23719
--------


PRODUCT_RFS.WRITE 
PRODUCT_RFS.READ


CONTRACT_SERVICES.WRITE
CONTRACT_SERVICES.ADD

productRfsWriteThresholdPersInvalidAndAccIdIsInvalid

personalizeAdvancedRecurringAndOneTimeChargesWithPeriodBasePO

readContractWithResetPersonalizePastRecurringCharges 

log	DATE:>>${Date}

Getting file '<a href="file://C:\Data\R17_code\core\lhsj_main\bscs\tests\robotScripts\src\main\testcases\3__mainTests\soap\requestLib\contract\ProductRfsWrite\writeCharacteristicValuesBadThreshold.xml">C:\Data\R17_code\core\lhsj_main\bscs\tests\robotScripts\src\main\testcases\3__mainTests\soap\requestLib\contract\ProductRfsWrite\writeCharacteristicValuesBadThreshold.xml</a>'
20181113 11:22:49.225 :  FAIL : IOError: [Errno 2] No such file or directory: u'C:\\Data\\R17_code\\core\\lhsj_main\\bscs\\tests\\robotScripts\\src\\main\\testcases\\3__mainTests\\soap\\requestLib\\contract\\ProductRfsWrite\\writeCharacteristicValuesBadThreshold.xml'
Ending test:   robotScripts.Src.Main.Testcases.mainTests.Soap.Special.CMI.ContractServicesAddErrorMessages.overwriteRecurringChargeWithFutureDate_RFS


feature/00432063_comcel142_e02_u02_2822 
feature/00432063_comcel142_e02_u03_2823


git checkout feature/00432063_comcel142_e02_u02_2822


./gradlew cms:clean cms:build 


BBaseSimple,BVOICE1,REC,BBaseSimpleRec
	




INSERT INTO RFSS_CHARACTERISTIC
(
    RFSS_CHARACTERISTIC_ID,
    SHDES,
    NAME,
    DESCRIPTION,
    PURPOSE,
    RFSS_CHAR_DATATYPE_ID,
    INTERNAL_FLAG,
    DATA_CLASS_ID,
    FINAL_FLAG,
    PERSONALIZABLE_FLAG
)
VALUES
(
   (SELECT NVL(MAX(RFSS_CHARACTERISTIC_ID),0)+1 FROM RFSS_CHARACTERISTIC),
    'OVWRECVALIDFROM_PERS',
    'Personalized overwritten recurring charge validity',
    'Personalized overwritten recurring charge valid-from date',
    NULL,
   (SELECT RFSS_CHAR_DATATYPE_ID FROM RFSS_CHARACTERISTIC_DATATYPE WHERE RFSS_CHAR_DATATYPE_ID = 2),
    NULL,
    NULL,
    NULL,
    'X'
);

INSERT INTO RFSS_ROLE_CHARACTERISTIC
(
    RFSS_ROLE_ID,
    RFSS_CHARACTERISTIC_ID,
    MANDATORY_FLAG,
    READONLY_FLAG,
    AUTOMATIC_DEFAULT_VALUE_FLAG,
    DEFAULT_VALUE_FLAG
)
VALUES
(
   (SELECT RFSS_ROLE_ID FROM RFSS_ROLE WHERE SHDES = 'RECCH'),
    (SELECT RFSS_CHARACTERISTIC_ID FROM RFSS_CHARACTERISTIC WHERE SHDES = 'OVWRECVALIDFROM_PERS'),
    NULL,
    'X',
    NULL,
    NULL
); 


for replacing jar in docker
---------------------------
pwd

cd /cbio/

. start-env.sh --> to run script sets environment variables

ps -ef | grep cms

first one is the process_id

kill -9 <process id>
 
cd /cbio/lib/jar  -->take a backup of existing jar and copy the new jar

cd scripts --> After replacing the jar we need to start the below script

./start_cms.sh


 C:\\Data\\R17_code\\core\\lhsj_main\\bscs\\tests\\robotScripts\\src\\main\\testcases\\3__mainTests\\soap\\basic\\CMI/ProductRfsWrite/personalizeChargesBasePo.xml

YYYY-MM-DDTHH:mm:ss	

dd-MM-yyyy HH:mm:ss

TC_15_ValidfromShouldNotFutureDated
TC_01_ValidFromReadReadWithMultipleRecurringCharge
TC_03_MultipleRecurringChargeForBasePoWith_RFS
TC_04_MultipleRecurringChargeChangeForOptionalPoWith_RFS
TC_05_MultipleRecurringChargeChangeForAddonWith_RFS


INSERT INTO RFSS_CHARACTERISTIC
(
    RFSS_CHARACTERISTIC_ID,
    SHDES,
    NAME,
    DESCRIPTION,
    PURPOSE,
    RFSS_CHAR_DATATYPE_ID,
    INTERNAL_FLAG,
    DATA_CLASS_ID,
    FINAL_FLAG,
    PERSONALIZABLE_FLAG
)
VALUES
(
   (SELECT NVL(MAX(RFSS_CHARACTERISTIC_ID),0)+1 FROM RFSS_CHARACTERISTIC),
    'OVWRECVALIDFROM_PERS',
    'Personalized overwritten recurring charge validity',
    'Personalized overwritten recurring charge valid-from date',
    NULL,
   (SELECT RFSS_CHAR_DATATYPE_ID FROM RFSS_CHARACTERISTIC_DATATYPE WHERE RFSS_CHAR_DATATYPE_ID = 7),
    NULL,
    NULL,
    NULL,
    'X'
)

-----------------------------------------
INSERT INTO RFSS_ROLE_CHARACTERISTIC
(
    RFSS_ROLE_ID,
    RFSS_CHARACTERISTIC_ID,
    MANDATORY_FLAG,
    READONLY_FLAG,
    AUTOMATIC_DEFAULT_VALUE_FLAG,
    DEFAULT_VALUE_FLAG
)
VALUES
(
    (SELECT RFSS_ROLE_ID FROM RFSS_ROLE WHERE SHDES = 'RECCH'),
    (SELECT RFSS_CHARACTERISTIC_ID FROM RFSS_CHARACTERISTIC WHERE SHDES = 'OVWRECVALIDFROM_PERS'),
    NULL,
    NULL,
    NULL,
    NULL
)

------------------------------------
INSERT INTO RFSS_ASSIGNED_CHARACTERISTIC
(
    RFS_SPECIFICATION_ID
    ,RFSS_CHARACTERISTIC_ID
    ,DEFAULT_VALUE
)
SELECT
    RFS_SPECIFICATION_ID
    ,(SELECT RFSS_CHARACTERISTIC_ID FROM RFSS_CHARACTERISTIC WHERE SHDES = 'OVWRECVALIDFROM_PERS')
    ,NULL
FROM RFS_SPECIFICATION
WHERE RFSS_ROLE_ID = (
                     SELECT RFSS_ROLE_ID
                     FROM RFSS_ROLE
                     WHERE SHDES = 'RECCH'
                     )


OVWRECVALIDFROM_PERS





yyyy-MM-dd'T'HH:mm:ss.SSSZZ



PC23719


Validate whether valid_From date with recurring charge amount is persisting correctly in DB if we do multiple updates for the recurring charges



git clone ssh://znshaca@roskilde.lhs-systems.com:29418/GIT_main -b main/4.x